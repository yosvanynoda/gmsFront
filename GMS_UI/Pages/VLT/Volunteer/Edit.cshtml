@page
@model GMS_UI.Pages.VLT.Volunteer.EditModel
@{
    ViewData["Title"] = "Edit Volunteer";
}

<div class="wizard-container">
    <!-- Sticky Action Bar -->
    <div class="sticky-top bg-white border-bottom shadow-sm mb-3" style="z-index: 1000; margin-left: -20px; margin-right: -20px; padding: 15px 20px;">
        <div class="d-flex justify-content-between align-items-center">
            <h4 class="mb-0">
                <i class="bi bi-pencil-fill text-primary"></i>
                Edit Volunteer
            </h4>
            <div>
                <button type="button" class="btn btn-secondary me-2" onclick="cancelWizardTop()">
                    <i class="bi bi-x-circle"></i> Cancel
                </button>
                <button type="button" class="btn btn-success" onclick="submitFormTop()">
                    <i class="bi bi-check-circle"></i> Save Changes
                </button>
            </div>
        </div>
    </div>

    <input type="hidden" id="volunteerId" value="@Model.VolunteerId" />

    <form asp-page-handler="Update" method="post" id="wizardForm">
        @Html.AntiForgeryToken()

        <!-- Progress Indicator -->
        <div class="step-indicator">
            <div class="step-circle active" id="step1-indicator" onclick="jumpToStep(1)" style="cursor: pointer;" title="General Information">1</div>
            <div class="step-line" id="line1"></div>
            <div class="step-circle" id="step2-indicator" onclick="jumpToStep(2)" style="cursor: pointer;" title="Physical & Demographics">2</div>
            <div class="step-line" id="line2"></div>
            <div class="step-circle" id="step3-indicator" onclick="jumpToStep(3)" style="cursor: pointer;" title="Address">3</div>
            <div class="step-line" id="line3"></div>
            <div class="step-circle" id="step4-indicator" onclick="jumpToStep(4)" style="cursor: pointer;" title="Emergency Contacts">4</div>
            <div class="step-line" id="line4"></div>
            <div class="step-circle" id="step5-indicator" onclick="jumpToStep(5)" style="cursor: pointer;" title="Allergies">5</div>
            <div class="step-line" id="line5"></div>
            <div class="step-circle" id="step6-indicator" onclick="jumpToStep(6)" style="cursor: pointer;" title="Diseases">6</div>
            <div class="step-line" id="line6"></div>
            <div class="step-circle" id="step7-indicator" onclick="jumpToStep(7)" style="cursor: pointer;" title="Medications">7</div>
            <div class="step-line" id="line7"></div>
            <div class="step-circle" id="step8-indicator" onclick="jumpToStep(8)" style="cursor: pointer;" title="Vaccines">8</div>
            <div class="step-line" id="line8"></div>
            <div class="step-circle" id="step9-indicator" onclick="jumpToStep(9)" style="cursor: pointer;" title="Surgical">9</div>
            <div class="step-line" id="line9"></div>
            <div class="step-circle" id="step10-indicator" onclick="jumpToStep(10)" style="cursor: pointer;" title="Review & Submit">10</div>
        </div>

        <!-- Step 1: General Information -->
        <div class="wizard-step active wizard-body" id="step1">
            <div class="form-section">
                <h5><i class="bi bi-info-circle"></i> General Information</h5>

                <!-- Volunteer Picture Section -->
                <div class="row mb-4">
                    <div class="col-md-12">
                        <div class="d-flex align-items-center gap-4 p-3 bg-light rounded">
                            <div class="position-relative">
                                <div class="rounded-circle bg-secondary d-flex align-items-center justify-content-center"
                                     style="width: 120px; height: 120px; overflow: hidden;" id="volunteerPictureContainer">
                                    <i class="bi bi-person-fill text-white" style="font-size: 60px;"></i>
                                </div>
                            </div>
                            <div class="flex-grow-1">
                                <h6 class="mb-2">Volunteer Picture</h6>
                                <p class="text-muted small mb-2">Upload a profile picture for this volunteer</p>
                                <button type="button" class="btn btn-sm btn-outline-primary" disabled>
                                    <i class="bi bi-camera"></i> Upload Picture (Coming Soon)
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Flag</label>
                            <select class="form-select" id="flag">
                                <option value="0">Select Flag</option>
                                @foreach (var item in Model.FlagList)
                                {
                                    <option value="@item.Value">@item.Text</option>
                                }
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Flag Reason / Comment</label>
                            <input type="text" class="form-control" id="flagReason" placeholder="Enter flag reason (optional)">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label class="form-label">First Name *</label>
                            <input type="text" class="form-control" id="firstName" placeholder="Enter first name" required>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label class="form-label">Middle Name</label>
                            <input type="text" class="form-control" id="middleName" placeholder="Enter middle name">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label class="form-label">Last Name *</label>
                            <input type="text" class="form-control" id="lastName" placeholder="Enter last name" required>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Date of Birth * (MM/DD/YYYY)</label>
                            <input type="text" class="form-control" id="subjectDOB" placeholder="MM/DD/YYYY" required>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Social Security Number</label>
                            <input type="text" class="form-control" id="subjectSS" placeholder="XXX-XX-XXXX">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Phone *</label>
                            <input type="tel" class="form-control" id="phone" placeholder="(XXX) XXX-XXXX" required>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Email *</label>
                            <input type="email" class="form-control" id="subjectEmail" placeholder="email@example.com" required>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Subject ID</label>
                            <input type="text" class="form-control" id="subjectId" placeholder="Enter subject ID">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Current Status</label>
                            <select class="form-select" id="currentStatus">
                                <option value="">Select Status</option>
                                @foreach (var item in Model.VLTStatusList)
                                {
                                    <option value="@item.Value">@item.Text</option>
                                }
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 2: Physical & Demographics -->
        <div class="wizard-step wizard-body" id="step2">
            <div class="form-section">
                <h5><i class="bi bi-person-badge"></i> Physical & Demographics</h5>

                <div class="row">
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label class="form-label">Weight (Kg)</label>
                            <input type="text" class="form-control" id="weight" placeholder="Enter weight (kg)">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label class="form-label">Height (CM)</label>
                            <input type="text" class="form-control" id="height" placeholder="Enter height (cm)">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label class="form-label">BMI</label>
                            <input type="text" class="form-control" id="bmi" placeholder="Auto-calculated" readonly style="background-color: #e9ecef;">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Sex *</label>
                            <select class="form-select" id="sex" required>
                                <option value="">Select Sex</option>
                                <option value="1">Male</option>
                                <option value="2">Female</option>
                                <option value="3">Intersex</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Gender</label>
                            <select class="form-select" id="gender">
                                <option value="">Select Gender</option>
                                @foreach (var item in Model.GenderList)
                                {
                                    <option value="@item.Value">@item.Text</option>
                                }
                            </select>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Race</label>
                            <select class="form-select" id="race">
                                <option value="">Select Race</option>
                                @foreach (var item in Model.RaceList)
                                {
                                    <option value="@item.Value">@item.Text</option>
                                }
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Ethnicity</label>
                            <select class="form-select" id="ethnicity">
                                <option value="">Select Ethnicity</option>
                                @foreach (var item in Model.EthnicityList)
                                {
                                    <option value="@item.Value">@item.Text</option>
                                }
                            </select>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Language</label>
                            <select class="form-select" id="language">
                                <option value="">Select Language</option>
                                @foreach (var item in Model.LanguageList)
                                {
                                    <option value="@item.Value">@item.Text</option>
                                }
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Smoker Status</label>
                            <select class="form-select" id="smoker">
                                <option value="">Select Smoker Status</option>
                                <option value="1">Non-Smoker</option>
                                <option value="2">Current Smoker</option>
                                <option value="3">Former Smoker</option>
                                <option value="4">Occasional Smoker</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 3: Address Information -->
        <div class="wizard-step wizard-body" id="step3">
            <div class="form-section">
                <h5><i class="bi bi-geo-alt-fill"></i> Address Information</h5>

                <div class="row">
                    <div class="col-md-12">
                        <div class="mb-3">
                            <label class="form-label">Address Line 1 *</label>
                            <input type="text" class="form-control" id="address1" placeholder="Street address" required>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <div class="mb-3">
                            <label class="form-label">Address Line 2</label>
                            <input type="text" class="form-control" id="address2" placeholder="Apartment, suite, etc.">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label class="form-label">City *</label>
                            <input type="text" class="form-control" id="city" placeholder="City" required>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label class="form-label">State *</label>
                            <input type="text" class="form-control" id="state" placeholder="State" required>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label class="form-label">Zip Code *</label>
                            <input type="text" class="form-control" id="zipCode" placeholder="ZIP Code" required>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Country *</label>
                            <input type="text" class="form-control" id="country" placeholder="Country" required>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Legal Representative</label>
                            <input type="text" class="form-control" id="legalRepresentative" placeholder="Name of legal representative">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 4: Emergency Contacts -->
        <div class="wizard-step wizard-body" id="step4">
            <div class="form-section">
                <h5><i class="bi bi-telephone-fill"></i> Emergency Contacts</h5>

                <div id="emergencyContactsContainer">
                    <!-- Emergency contacts will be added here dynamically -->
                </div>

                <button type="button" class="btn btn-sm btn-primary" onclick="addEmergencyContact()">
                    <i class="bi bi-plus-circle"></i> Add Emergency Contact
                </button>
            </div>
        </div>

        <!-- Step 5: Allergies -->
        <div class="wizard-step wizard-body" id="step5">
            <div class="form-section">
                <h5><i class="bi bi-exclamation-triangle-fill"></i> Allergies</h5>

                <!-- Add Allergy Form -->
                <div class="card mb-3">
                    <div class="card-header bg-primary text-white">
                        <h6 class="mb-0">Add Allergy</h6>
                    </div>
                    <div class="card-body">
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label class="form-label">Select Allergy *</label>
                                <select class="form-select" id="allergySelect">
                                    <option value="">Select Allergy</option>
                                </select>
                                <span id="validateAllergy" class="text-danger"></span>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">Start Date</label>
                                <input type="date" class="form-control" id="allergyStartDate" />
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">End Date</label>
                                <input type="date" class="form-control" id="allergyEndDate" />
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-12">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="allergyAnaphylaxis">
                                    <label class="form-check-label" for="allergyAnaphylaxis">
                                        Anaphylaxis
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <button type="button" class="btn btn-success" onclick="saveAllergy()">
                                    <i class="bi bi-plus-circle"></i> Add Allergy
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Current Allergies Grid -->
                <div class="card">
                    <div class="card-header bg-secondary text-white">
                        <h6 class="mb-0">Current Allergies</h6>
                    </div>
                    <div class="card-body">
                        <div id="allergiesGrid" class="ag-theme-balham"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 6: Diseases -->
        <div class="wizard-step wizard-body" id="step6">
            <div class="form-section">
                <h5><i class="bi bi-heart-pulse-fill"></i> Diseases</h5>

                <!-- Add Disease Form -->
                <div class="card mb-3">
                    <div class="card-header bg-primary text-white">
                        <h6 class="mb-0">Add Disease</h6>
                    </div>
                    <div class="card-body">
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label class="form-label">Select Disease *</label>
                                <select class="form-select" id="diseaseSelect">
                                    <option value="">Select Disease</option>
                                </select>
                                <span id="validateDisease" class="text-danger"></span>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">Start Date</label>
                                <input type="date" class="form-control" id="diseaseStartDate" />
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">End Date</label>
                                <input type="date" class="form-control" id="diseaseEndDate" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <button type="button" class="btn btn-success" onclick="saveDisease()">
                                    <i class="bi bi-plus-circle"></i> Add Disease
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Current Diseases Grid -->
                <div class="card">
                    <div class="card-header bg-secondary text-white">
                        <h6 class="mb-0">Current Diseases</h6>
                    </div>
                    <div class="card-body">
                        <div id="diseasesGrid" class="ag-theme-balham"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 7: Medications -->
        <div class="wizard-step wizard-body" id="step7">
            <div class="form-section">
                <h5><i class="bi bi-capsule-pill"></i> Medications</h5>

                <!-- Add Medication Form -->
                <div class="card mb-3">
                    <div class="card-header bg-primary text-white">
                        <h6 class="mb-0">Add Medication</h6>
                    </div>
                    <div class="card-body">
                        <div class="row mb-3">
                            <div class="col-md-4">
                                <label class="form-label">Select Medication *</label>
                                <select class="form-select" id="medicationSelect">
                                    <option value="">Select Medication</option>
                                </select>
                                <span id="validateMedication" class="text-danger"></span>
                            </div>
                            <div class="col-md-2">
                                <label class="form-label">Dose</label>
                                <input type="text" class="form-control" id="medicationDose" placeholder="e.g., 500mg" />
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">Start Date</label>
                                <input type="date" class="form-control" id="medicationStartDate" />
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">End Date</label>
                                <input type="date" class="form-control" id="medicationEndDate" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <button type="button" class="btn btn-success" onclick="saveMedication()">
                                    <i class="bi bi-plus-circle"></i> Add Medication
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Current Medications Grid -->
                <div class="card">
                    <div class="card-header bg-secondary text-white">
                        <h6 class="mb-0">Current Medications</h6>
                    </div>
                    <div class="card-body">
                        <div id="medicationsGrid" class="ag-theme-balham"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 8: Vaccines -->
        <div class="wizard-step wizard-body" id="step8">
            <div class="form-section">
                <h5><i class="bi bi-shield-fill-check"></i> Vaccines</h5>

                <!-- Add Vaccine Form -->
                <div class="card mb-3">
                    <div class="card-header bg-success text-white">
                        <h6 class="mb-0">Add Vaccine</h6>
                    </div>
                    <div class="card-body">
                        <div class="row mb-3">
                            <div class="col-md-4">
                                <label class="form-label">Select Vaccine *</label>
                                <select class="form-select" id="vaccineSelect">
                                    <option value="">Select Vaccine</option>
                                </select>
                                <span id="validateVaccine" class="text-danger"></span>
                            </div>
                            <div class="col-md-2">
                                <label class="form-label">Dose</label>
                                <input type="text" class="form-control" id="vaccineDose" placeholder="e.g., 1st dose" />
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">Administration Date</label>
                                <input type="date" class="form-control" id="vaccineAdminDate" />
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">Expiration Date</label>
                                <input type="date" class="form-control" id="vaccineExpDate" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <button type="button" class="btn btn-success" onclick="saveVaccine()">
                                    <i class="bi bi-plus-circle"></i> Add Vaccine
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Current Vaccines Grid -->
                <div class="card">
                    <div class="card-header bg-secondary text-white">
                        <h6 class="mb-0">Current Vaccines</h6>
                    </div>
                    <div class="card-body">
                        <div id="vaccinesGrid" class="ag-theme-balham"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 9: Surgical -->
        <div class="wizard-step wizard-body" id="step9">
            <div class="form-section">
                <h5><i class="bi bi-scissors"></i> Surgical Procedures</h5>

                <!-- Add Surgical Form -->
                <div class="card mb-3">
                    <div class="card-header bg-warning text-dark">
                        <h6 class="mb-0">Add Surgical Procedure</h6>
                    </div>
                    <div class="card-body">
                        <div class="row mb-3">
                            <div class="col-md-4">
                                <label class="form-label">Select Surgical Procedure *</label>
                                <select class="form-select" id="surgicalSelect">
                                    <option value="">Select Surgical Procedure</option>
                                </select>
                                <span id="validateSurgical" class="text-danger"></span>
                            </div>
                            <div class="col-md-2">
                                <label class="form-label">Dose</label>
                                <input type="text" class="form-control" id="surgicalDose" placeholder="e.g., 1" />
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">Start Date</label>
                                <input type="date" class="form-control" id="surgicalStartDate" />
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">End Date</label>
                                <input type="date" class="form-control" id="surgicalEndDate" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <button type="button" class="btn btn-warning" onclick="saveSurgical()">
                                    <i class="bi bi-plus-circle"></i> Add Surgical Procedure
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Current Surgical Procedures Grid -->
                <div class="card">
                    <div class="card-header bg-secondary text-white">
                        <h6 class="mb-0">Current Surgical Procedures</h6>
                    </div>
                    <div class="card-body">
                        <div id="surgicalsGrid" class="ag-theme-balham"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 10: Documentation & Review -->
        <div class="wizard-step wizard-body" id="step10">
            <div class="form-section">
                <h5><i class="bi bi-file-earmark-text-fill"></i> Documentation & Review</h5>

                <!-- Confirmation Checkbox at the top -->
                <div class="mb-4 p-3 bg-light border rounded">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="confirmSubmission" required>
                        <label class="form-check-label fw-bold" for="confirmSubmission">
                            <i class="bi bi-check-circle"></i> I confirm that all information provided is accurate and complete
                        </label>
                    </div>
                </div>

                <div class="alert alert-info">
                    <i class="bi bi-info-circle"></i>
                    Please review all information before submitting. You can go back to previous steps to make changes.
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <h6>Summary</h6>
                        <div id="reviewSummary" class="p-3 bg-light rounded">
                            <!-- Summary will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <h6 class="mt-4">Documents</h6>
                <div id="documentsContainer">
                    <!-- Documents will be added here dynamically -->
                </div>
                <button type="button" class="btn btn-sm btn-primary mb-3" onclick="addDocument()">
                    <i class="bi bi-plus-circle"></i> Add Document
                </button>
            </div>
        </div>

        <!-- Sticky Navigation Buttons -->
        <div class="wizard-navigation bg-white border-top shadow-sm" style="position: sticky; bottom: 0; z-index: 999; margin: 0 -20px; padding: 15px 20px;">
            <div class="d-flex justify-content-between align-items-center">
                <button type="button" class="btn btn-outline-secondary btn-wizard" id="prevBtn" onclick="changeStep(-1)" style="display: none;">
                    <i class="bi bi-arrow-left"></i> Previous
                </button>
                <button type="button" class="btn btn-primary btn-wizard ms-auto" id="nextBtn" onclick="changeStep(1)">
                    Next <i class="bi bi-arrow-right"></i>
                </button>
            </div>
        </div>
    </form>
</div>

<style>
    /* Add significant padding to wizard steps so sticky navigation doesn't cover content */
    .wizard-body {
        padding-bottom: 200px !important;
    }

    .wizard-step {
        padding-bottom: 100px !important;
    }

    #wizardForm {
        padding-bottom: 150px !important;
    }
</style>

<script>
    // Get CSRF token from the form
    window._csrfToken = document.querySelector('input[name="__RequestVerificationToken"]').value;

    // Pass dropdown data to JavaScript
    window.allergyList = @Html.Raw(Json.Serialize(Model.AllergyList));
    window.diseaseList = @Html.Raw(Json.Serialize(Model.DiseaseList));
    window.medicationList = @Html.Raw(Json.Serialize(Model.MedicationList));
    window.vaccineList = @Html.Raw(Json.Serialize(Model.VaccineList));
    window.surgicalList = @Html.Raw(Json.Serialize(Model.SurgicalList));

    console.log('Surgical List:', window.surgicalList);
    console.log('Vaccine List:', window.vaccineList);

    // Pass volunteer data to JavaScript
    // Use Newtonsoft.Json serialization to match the API response format
    @{
        var volunteerDataJson = Newtonsoft.Json.JsonConvert.SerializeObject(Model.VolunteerData);
    }
    window.volunteerData = @Html.Raw(volunteerDataJson);

    console.log('CSRF Token:', window._csrfToken);
    console.log('Volunteer Data:', window.volunteerData);
    console.log('Volunteer Data JSON:', JSON.stringify(window.volunteerData, null, 2));
</script>
<script src="/js/vlt/volunteer/volunteerEdit.js?v=@DateTime.Now.Ticks"></script>
